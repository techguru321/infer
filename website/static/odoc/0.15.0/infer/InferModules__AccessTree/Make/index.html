<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Make (infer.InferModules__AccessTree.Make)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="generator" content="doc-ock-html v1.0.0-1-g1fc9bf0"/></head><body><nav id="top"><a href="../index.html">Up</a> &mdash; <span class="package">package <a href="../../index.html">infer</a></span></nav><header><h1><span class="keyword">Module</span> <span class="module-path">InferModules__AccessTree.Make</span></h1></header><h3 class="heading">Parameters</h3><div><div class="spec argument" id="argument-2-Config"><a href="#argument-2-Config" class="anchor"></a><div class="def argument"><code><a href="argument-2-Config/index.html">Config</a> : <a href="../index.html#module-type-Config">Config</a></code></div><div class="doc"></div></div><div class="spec argument" id="argument-1-TraceDomain"><a href="#argument-1-TraceDomain" class="anchor"></a><div class="def argument"><code><a href="argument-1-TraceDomain/index.html">TraceDomain</a> : <a href="../../InferModules/AbstractDomain/index.html#module-type-WithBottom">InferModules.AbstractDomain.WithBottom</a></code></div><div class="doc"></div></div></div><h3 class="heading">Signature</h3><div class="spec module" id="module-TraceDomain"><a href="#module-TraceDomain" class="anchor"></a><div class="def module"><code><span class="keyword">module </span>TraceDomain = <a href="index.html#argument-1-TraceDomain">TraceDomain</a></code></div><div class="doc"></div></div><div class="spec module" id="module-AccessMap"><a href="#module-AccessMap" class="anchor"></a><div class="def module"><code><span class="keyword">module </span>AccessMap : <a href="../../../InferStdlib/InferStdlib/PrettyPrintable/index.html#module-type-PPMap">InferStdlib.PrettyPrintable.PPMap</a><span class="keyword"> with </span><span class="keyword">type </span><a href="../../../InferStdlib/InferStdlib/PrettyPrintable/index.html#module-type-PPMap">PPMap</a>.key<span class="keyword"> = </span><a href="../../../InferIR/InferIR/AccessPath/index.html#type-access">InferIR.AccessPath.access</a></code></div><div class="doc"></div></div><div class="spec module" id="module-BaseMap"><a href="#module-BaseMap" class="anchor"></a><div class="def module"><code><span class="keyword">module </span>BaseMap = <a href="../../../InferIR/InferIR/AccessPath/index.html#module-BaseMap">InferIR.AccessPath.BaseMap</a></code></div><div class="doc"></div></div><div class="spec type" id="type-node"><a href="#type-node" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>node</code><code><span class="keyword"> = </span><a href="TraceDomain/index.html#type-astate">TraceDomain.astate</a><span class="keyword"> * </span><a href="index.html#type-tree">tree</a></code><code></code></div><div class="doc"></div></div><div class="spec type" id="type-tree"><a href="#type-tree" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>tree</code><code></code><code><span class="keyword"> = </span></code><table class="variant"><tr id="type-tree.Subtree" class="anchored"><td class="def constructor"><a href="#type-tree.Subtree" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Subtree</span><span class="keyword"> of </span><a href="index.html#type-node">node</a> <a href="index.html#module-AccessMap">AccessMap</a>.t</code></td><td class="doc"><p>(** map from access -&gt; nodes. a leaf is encoded as an empty map *)</p></td></tr><tr id="type-tree.Star" class="anchored"><td class="def constructor"><a href="#type-tree.Star" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Star</span></code></td><td class="doc"><p>(** special leaf for starred access paths *)</p></td></tr></table><code></code></div><div class="doc"></div></div><div class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>t</code><code><span class="keyword"> = </span><a href="index.html#type-node">node</a> <a href="index.html#module-BaseMap">BaseMap</a>.t</code><code></code></div><div class="doc"><p>map from base var -&gt; access subtree. Here's how to represent a few different kinds of
trace * access path associations: </p><pre><code class="code">      (x, T)               := { x |-&gt; (T, Subtree {}) }
      (x.f, T)             := { x |-&gt; (empty, Subtree { f |-&gt; (T, Subtree {}) }) }
      (x*, T)              := { x |-&gt; (T, Star) }
      (x.f*, T)            := { x |-&gt; (empty, Subtree { f |-&gt; (T, Star) }) }
      (x, T1), (y, T2)     := { x |-&gt; (T1, Subtree {}), y |-&gt; (T2, Subtree {}) }
      (x.f, T1), (x.g, T2) := { x |-&gt; (empty, Subtree { f |-&gt; (T1, Subtree {}),
                                                        g |-&gt; (T2, Subtree {}) }) }</code></pre></div></div><div class="spec include"><div class="doc"></div><details open="open"><summary><span class="def"><code><span class="keyword">include </span><a href="../../InferModules/AbstractDomain/index.html#module-type-WithBottom">InferModules.AbstractDomain.WithBottom</a><span class="keyword"> with </span><span class="keyword">type </span><a href="../../InferModules/AbstractDomain/module-type-WithBottom/index.html#type-astate">astate</a><span class="keyword"> = </span><a href="index.html#type-t">t</a></code></span></summary><div class="spec include"><div class="doc"></div><details open="open"><summary><span class="def"><code><span class="keyword">include </span><a href="../../InferModules/AbstractDomain/index.html#module-type-S">InferModules.AbstractDomain.S</a></code></span></summary><div class="spec type" id="type-astate"><a href="#type-astate" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>astate</code><code></code><code></code></div><div class="doc"></div></div><div class="spec val" id="val-(&lt;=)"><a href="#val-(&lt;=)" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>(&lt;=) : lhs:<a href="index.html#type-astate">astate</a> <span class="keyword">&#8209;&gt;</span> rhs:<a href="index.html#type-astate">astate</a> <span class="keyword">&#8209;&gt;</span> bool</code></div><div class="doc"><p>the partial order induced by join</p></div></div><div class="spec val" id="val-join"><a href="#val-join" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>join : <a href="index.html#type-astate">astate</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-astate">astate</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-astate">astate</a></code></div><div class="doc"></div></div><div class="spec val" id="val-widen"><a href="#val-widen" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>widen : prev:<a href="index.html#type-astate">astate</a> <span class="keyword">&#8209;&gt;</span> next:<a href="index.html#type-astate">astate</a> <span class="keyword">&#8209;&gt;</span> num_iters:int <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-astate">astate</a></code></div><div class="doc"></div></div><div class="spec val" id="val-pp"><a href="#val-pp" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>pp : <a href="../../InferModules/AbstractDomain/index.html#module-F">InferModules.AbstractDomain.F</a>.formatter <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-astate">astate</a> <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"></div></div></details></div><div class="spec val" id="val-empty"><a href="#val-empty" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>empty : <a href="index.html#type-astate">astate</a></code></div><div class="doc"><p>The bottom value of the domain.
Naming it empty instead of bottom helps to bind the empty
value for sets and maps to the natural definition for bottom</p></div></div><div class="spec val" id="val-is_empty"><a href="#val-is_empty" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>is_empty : <a href="index.html#type-astate">astate</a> <span class="keyword">&#8209;&gt;</span> bool</code></div><div class="doc"><p>Return true if this is the bottom value</p></div></div></details></div><div class="spec val" id="val-empty_node"><a href="#val-empty_node" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>empty_node : <a href="index.html#type-node">node</a></code></div><div class="doc"></div></div><div class="spec val" id="val-make_node"><a href="#val-make_node" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>make_node : <a href="TraceDomain/index.html#type-astate">TraceDomain.astate</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-node">node</a> <a href="index.html#module-AccessMap">AccessMap</a>.t <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-node">node</a></code></div><div class="doc"></div></div><div class="spec val" id="val-make_access_node"><a href="#val-make_access_node" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>make_access_node : <a href="TraceDomain/index.html#type-astate">TraceDomain.astate</a> <span class="keyword">&#8209;&gt;</span> <a href="../../../InferIR/InferIR/AccessPath/index.html#type-access">InferIR.AccessPath.access</a> <span class="keyword">&#8209;&gt;</span> <a href="TraceDomain/index.html#type-astate">TraceDomain.astate</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-node">node</a></code></div><div class="doc"><p>for testing only</p></div></div><div class="spec val" id="val-make_normal_leaf"><a href="#val-make_normal_leaf" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>make_normal_leaf : <a href="TraceDomain/index.html#type-astate">TraceDomain.astate</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-node">node</a></code></div><div class="doc"><p>create a leaf node with no successors</p></div></div><div class="spec val" id="val-make_starred_leaf"><a href="#val-make_starred_leaf" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>make_starred_leaf : <a href="TraceDomain/index.html#type-astate">TraceDomain.astate</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-node">node</a></code></div><div class="doc"><p>create a leaf node with a wildcard successor</p></div></div><div class="spec val" id="val-get_node"><a href="#val-get_node" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>get_node : <a href="../../../InferIR/InferIR/AccessPath/Abs/index.html#type-t">InferIR.AccessPath.Abs.t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-node">node</a> option</code></div><div class="doc"><p>retrieve the node associated with the given access path</p></div></div><div class="spec val" id="val-get_trace"><a href="#val-get_trace" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>get_trace : <a href="../../../InferIR/InferIR/AccessPath/Abs/index.html#type-t">InferIR.AccessPath.Abs.t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="TraceDomain/index.html#type-astate">TraceDomain.astate</a> option</code></div><div class="doc"><p>retrieve the trace associated with the given access path</p></div></div><div class="spec val" id="val-add_node"><a href="#val-add_node" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>add_node : <a href="../../../InferIR/InferIR/AccessPath/Abs/index.html#type-t">InferIR.AccessPath.Abs.t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-node">node</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p>add the given access path to the tree and associate its last access with with the given node.
if any of the accesses in the path are not already present in the tree, they will be added
with with empty traces associated with each of the inner nodes.</p></div></div><div class="spec val" id="val-add_trace"><a href="#val-add_trace" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>add_trace : <a href="../../../InferIR/InferIR/AccessPath/Abs/index.html#type-t">InferIR.AccessPath.Abs.t</a> <span class="keyword">&#8209;&gt;</span> <a href="TraceDomain/index.html#type-astate">TraceDomain.astate</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p>add the given access path to the tree and associate its last access with with the given trace.
if any of the accesses in the path are not already present in the tree, they will be added
with with empty traces associated with each of the inner nodes.</p></div></div><div class="spec val" id="val-node_join"><a href="#val-node_join" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>node_join : <a href="index.html#type-node">node</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-node">node</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-node">node</a></code></div><div class="doc"><p>join two nodes</p></div></div><div class="spec val" id="val-fold"><a href="#val-fold" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>fold : (<span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> <a href="../../../InferIR/InferIR/AccessPath/Abs/index.html#type-t">InferIR.AccessPath.Abs.t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-node">node</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span>) <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span></code></div><div class="doc"><p>apply a function to each (access path, node) pair in the tree.</p></div></div><div class="spec val" id="val-trace_fold"><a href="#val-trace_fold" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>trace_fold : (<span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> <a href="../../../InferIR/InferIR/AccessPath/Abs/index.html#type-t">InferIR.AccessPath.Abs.t</a> <span class="keyword">&#8209;&gt;</span> <a href="TraceDomain/index.html#type-astate">TraceDomain.astate</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span>) <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span></code></div><div class="doc"></div></div><div class="spec val" id="val-exists"><a href="#val-exists" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>exists : (<a href="../../../InferIR/InferIR/AccessPath/Abs/index.html#type-t">InferIR.AccessPath.Abs.t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-node">node</a> <span class="keyword">&#8209;&gt;</span> bool) <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> bool</code></div><div class="doc"></div></div><div class="spec val" id="val-iter"><a href="#val-iter" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>iter : (<a href="../../../InferIR/InferIR/AccessPath/Abs/index.html#type-t">InferIR.AccessPath.Abs.t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-node">node</a> <span class="keyword">&#8209;&gt;</span> unit) <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"></div></div><div class="spec val" id="val-depth"><a href="#val-depth" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>depth : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> int</code></div><div class="doc"><p>number of traces in the tallest branch of the tree</p></div></div><div class="spec val" id="val-pp_node"><a href="#val-pp_node" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>pp_node : Format.formatter <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-node">node</a> <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"></div></div></body></html>