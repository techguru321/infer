<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Models (infer.InferModules__RacerDConfig.Models)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="generator" content="doc-ock-html v1.0.0-1-g1fc9bf0"/></head><body><nav id="top"><a href="../index.html">Up</a> &mdash; <span class="package">package <a href="../../index.html">infer</a></span></nav><header><h1><span class="keyword">Module</span> <span class="module-path">InferModules__RacerDConfig.Models</span></h1></header><div class="spec type" id="type-lock"><a href="#type-lock" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>lock</code><code></code><code><span class="keyword"> = </span></code><table class="variant"><tr id="type-lock.Lock" class="anchored"><td class="def constructor"><a href="#type-lock.Lock" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Lock</span></code></td></tr><tr id="type-lock.Unlock" class="anchored"><td class="def constructor"><a href="#type-lock.Unlock" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Unlock</span></code></td></tr><tr id="type-lock.LockedIfTrue" class="anchored"><td class="def constructor"><a href="#type-lock.LockedIfTrue" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">LockedIfTrue</span></code></td></tr><tr id="type-lock.NoEffect" class="anchored"><td class="def constructor"><a href="#type-lock.NoEffect" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">NoEffect</span></code></td></tr></table><code></code></div><div class="doc"></div></div><div class="spec type" id="type-thread"><a href="#type-thread" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>thread</code><code></code><code><span class="keyword"> = </span></code><table class="variant"><tr id="type-thread.BackgroundThread" class="anchored"><td class="def constructor"><a href="#type-thread.BackgroundThread" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">BackgroundThread</span></code></td></tr><tr id="type-thread.MainThread" class="anchored"><td class="def constructor"><a href="#type-thread.MainThread" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">MainThread</span></code></td></tr><tr id="type-thread.MainThreadIfTrue" class="anchored"><td class="def constructor"><a href="#type-thread.MainThreadIfTrue" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">MainThreadIfTrue</span></code></td></tr><tr id="type-thread.UnknownThread" class="anchored"><td class="def constructor"><a href="#type-thread.UnknownThread" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">UnknownThread</span></code></td></tr></table><code></code></div><div class="doc"></div></div><div class="spec type" id="type-container_access"><a href="#type-container_access" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>container_access</code><code></code><code><span class="keyword"> = </span></code><table class="variant"><tr id="type-container_access.ContainerRead" class="anchored"><td class="def constructor"><a href="#type-container_access.ContainerRead" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">ContainerRead</span></code></td></tr><tr id="type-container_access.ContainerWrite" class="anchored"><td class="def constructor"><a href="#type-container_access.ContainerWrite" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">ContainerWrite</span></code></td></tr></table><code></code></div><div class="doc"></div></div><div class="spec val" id="val-is_thread_utils_method"><a href="#val-is_thread_utils_method" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>is_thread_utils_method : string <span class="keyword">&#8209;&gt;</span> <a href="../../../InferIR/InferIR/Typ/Procname/index.html#type-t">InferIR.Typ.Procname.t</a> <span class="keyword">&#8209;&gt;</span> bool</code></div><div class="doc"><p>return true if the given method name is a utility class for checking what thread we're on</p></div></div><div class="spec val" id="val-get_lock"><a href="#val-get_lock" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>get_lock : <a href="../../../InferIR/InferIR/Typ/Procname/index.html#type-t">InferIR.Typ.Procname.t</a> <span class="keyword">&#8209;&gt;</span> <a href="../../../InferIR/InferIR/HilExp/index.html#type-t">InferIR.HilExp.t</a> list <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-lock">lock</a></code></div><div class="doc"><p>describe how this procedure behaves with respect to locking</p></div></div><div class="spec val" id="val-get_thread"><a href="#val-get_thread" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>get_thread : <a href="../../../InferIR/InferIR/Typ/Procname/index.html#type-t">InferIR.Typ.Procname.t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-thread">thread</a></code></div><div class="doc"><p>describe how this procedure behaves with respect to thread access</p></div></div><div class="spec val" id="val-get_container_access"><a href="#val-get_container_access" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>get_container_access : <a href="../../../InferIR/InferIR/Typ/Procname/index.html#type-t">InferIR.Typ.Procname.t</a> <span class="keyword">&#8209;&gt;</span> <a href="../../../InferIR/InferIR/Tenv/index.html#type-t">InferIR.Tenv.t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-container_access">container_access</a> option</code></div><div class="doc"><p>return Some (access) if this procedure accesses the contents of a container (e.g., Map.get)</p></div></div><div class="spec val" id="val-is_java_library"><a href="#val-is_java_library" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>is_java_library : <a href="../../../InferIR/InferIR/Typ/Procname/index.html#type-t">InferIR.Typ.Procname.t</a> <span class="keyword">&#8209;&gt;</span> bool</code></div><div class="doc"><p>return true if this function is library code from the JDK core libraries or Android</p></div></div><div class="spec val" id="val-is_builder_function"><a href="#val-is_builder_function" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>is_builder_function : <a href="../../../InferIR/InferIR/Typ/Procname/index.html#type-t">InferIR.Typ.Procname.t</a> <span class="keyword">&#8209;&gt;</span> bool</code></div><div class="doc"></div></div><div class="spec val" id="val-has_return_annot"><a href="#val-has_return_annot" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>has_return_annot : (<a href="../../../InferIR/InferIR/Annot/Item/index.html#type-t">InferIR.Annot.Item.t</a> <span class="keyword">&#8209;&gt;</span> bool) <span class="keyword">&#8209;&gt;</span> <a href="../../../InferIR/InferIR/Typ/Procname/index.html#type-t">InferIR.Typ.Procname.t</a> <span class="keyword">&#8209;&gt;</span> bool</code></div><div class="doc"></div></div><div class="spec val" id="val-is_functional"><a href="#val-is_functional" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>is_functional : <a href="../../../InferIR/InferIR/Typ/Procname/index.html#type-t">InferIR.Typ.Procname.t</a> <span class="keyword">&#8209;&gt;</span> bool</code></div><div class="doc"></div></div><div class="spec val" id="val-acquires_ownership"><a href="#val-acquires_ownership" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>acquires_ownership : <a href="../../../InferIR/InferIR/Typ/Procname/index.html#type-t">InferIR.Typ.Procname.t</a> <span class="keyword">&#8209;&gt;</span> <a href="../../../InferIR/InferIR/Tenv/index.html#type-t">InferIR.Tenv.t</a> <span class="keyword">&#8209;&gt;</span> bool</code></div><div class="doc"></div></div><div class="spec val" id="val-is_threadsafe_collection"><a href="#val-is_threadsafe_collection" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>is_threadsafe_collection : <a href="../../../InferIR/InferIR/Typ/Procname/index.html#type-t">InferIR.Typ.Procname.t</a> <span class="keyword">&#8209;&gt;</span> <a href="../../../InferIR/InferIR/Tenv/index.html#type-t">InferIR.Tenv.t</a> <span class="keyword">&#8209;&gt;</span> bool</code></div><div class="doc"></div></div><div class="spec val" id="val-is_box"><a href="#val-is_box" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>is_box : <a href="../../../InferIR/InferIR/Typ/Procname/index.html#type-t">InferIR.Typ.Procname.t</a> <span class="keyword">&#8209;&gt;</span> bool</code></div><div class="doc"><p>return true if the given procname boxes a primitive type into a reference type</p></div></div><div class="spec val" id="val-is_thread_confined_method"><a href="#val-is_thread_confined_method" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>is_thread_confined_method : <a href="../../../InferIR/InferIR/Tenv/index.html#type-t">InferIR.Tenv.t</a> <span class="keyword">&#8209;&gt;</span> <a href="../../../InferIR/InferIR/Procdesc/index.html#type-t">InferIR.Procdesc.t</a> <span class="keyword">&#8209;&gt;</span> bool</code></div><div class="doc"><p>Methods in</p><ul class="at-tag"><li><span class="at-tag ThreadConfined">@ThreadConfined</span> classes and methods annotated with</li><li><span class="at-tag ThreadConfined">@ThreadConfined</span> are assumed to all
run on the same thread. For the moment we won't warn on accesses resulting from use of such
methods at all. In future we should account for races between these methods and methods from
completely different classes that don't necessarily run on the same thread as the confined
object.</li></ul></div></div><div class="spec val" id="val-runs_on_ui_thread"><a href="#val-runs_on_ui_thread" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>runs_on_ui_thread : <a href="../../../InferIR/InferIR/Tenv/index.html#type-t">InferIR.Tenv.t</a> <span class="keyword">&#8209;&gt;</span> <a href="../../../InferIR/InferIR/Procdesc/index.html#type-t">InferIR.Procdesc.t</a> <span class="keyword">&#8209;&gt;</span> string option</code></div><div class="doc"><p>We don't want to warn on methods that run on the UI thread because they should always be
single-threaded. Assume that methods annotated with</p><ul class="at-tag"><li><span class="at-tag UiThread">@UiThread</span> ,</li><li><span class="at-tag OnEvent">@OnEvent</span> ,</li><li><span class="at-tag OnBind">@OnBind</span> ,</li><li><span class="at-tag OnMount">@OnMount</span> ,</li><li><span class="at-tag OnUnbind">@OnUnbind</span> ,</li><li><span class="at-tag OnUnmount">@OnUnmount</span> always run on the UI thread. Also assume that any superclass
marked</li><li><span class="at-tag UiThread">@UiThread</span> implies all methods are on UI thread. Return Some string explaining why
this method is on the UI thread, else return None.</li></ul></div></div><div class="spec val" id="val-should_analyze_proc"><a href="#val-should_analyze_proc" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>should_analyze_proc : <a href="../../../InferIR/InferIR/Procdesc/index.html#type-t">InferIR.Procdesc.t</a> <span class="keyword">&#8209;&gt;</span> <a href="../../../InferIR/InferIR/Tenv/index.html#type-t">InferIR.Tenv.t</a> <span class="keyword">&#8209;&gt;</span> bool</code></div><div class="doc"><p>return true if we should compute a summary for the procedure. if this returns false, we won't
analyze the procedure or report any warnings on it.
note: in the future, we will want to analyze the procedures in all of these cases in order to
find more bugs. this is just a temporary measure to avoid obvious false positives</p></div></div><div class="spec val" id="val-get_current_class_and_threadsafe_superclasses"><a href="#val-get_current_class_and_threadsafe_superclasses" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>get_current_class_and_threadsafe_superclasses : <a href="../../../InferIR/InferIR/Tenv/index.html#type-t">InferIR.Tenv.t</a> <span class="keyword">&#8209;&gt;</span> <a href="../../../InferIR/InferIR/Typ/Procname/index.html#type-t">InferIR.Typ.Procname.t</a> <span class="keyword">&#8209;&gt;</span> (<a href="../../../InferIR/InferIR/Typ/index.html#type-name">InferIR.Typ.name</a><span class="keyword"> * </span><a href="../../../InferIR/InferIR/Typ/index.html#type-name">InferIR.Typ.name</a> list) option</code></div><div class="doc"></div></div><div class="spec val" id="val-is_thread_safe_method"><a href="#val-is_thread_safe_method" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>is_thread_safe_method : <a href="../../../InferIR/InferIR/Typ/Procname/index.html#type-t">InferIR.Typ.Procname.t</a> <span class="keyword">&#8209;&gt;</span> <a href="../../../InferIR/InferIR/Tenv/index.html#type-t">InferIR.Tenv.t</a> <span class="keyword">&#8209;&gt;</span> bool</code></div><div class="doc"><p>returns true if method or overriden method in superclass
is</p><ul class="at-tag"><li><span class="at-tag ThreadSafe">@ThreadSafe</span> ,</li><li><span class="at-tag ThreadSafe">@ThreadSafe</span> (enableChecks = true), or is defined
as an alias of</li><li><span class="at-tag ThreadSafe">@ThreadSafe</span> in a .inferconfig file.</li></ul></div></div><div class="spec val" id="val-is_marked_thread_safe"><a href="#val-is_marked_thread_safe" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>is_marked_thread_safe : <a href="../../../InferIR/InferIR/Procdesc/index.html#type-t">InferIR.Procdesc.t</a> <span class="keyword">&#8209;&gt;</span> <a href="../../../InferIR/InferIR/Tenv/index.html#type-t">InferIR.Tenv.t</a> <span class="keyword">&#8209;&gt;</span> bool</code></div><div class="doc"></div></div><div class="spec val" id="val-should_report_on_proc"><a href="#val-should_report_on_proc" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>should_report_on_proc : <a href="../../../InferIR/InferIR/Procdesc/index.html#type-t">InferIR.Procdesc.t</a> <span class="keyword">&#8209;&gt;</span> <a href="../../../InferIR/InferIR/Tenv/index.html#type-t">InferIR.Tenv.t</a> <span class="keyword">&#8209;&gt;</span> bool</code></div><div class="doc"><p>return true if procedure is at an abstraction boundary or reporting has been explicitly
requested via</p><ul class="at-tag"><li><span class="at-tag ThreadSafe">@ThreadSafe</span> </li></ul></div></div><div class="spec val" id="val-may_block"><a href="#val-may_block" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>may_block : <a href="../../../InferIR/InferIR/Tenv/index.html#type-t">InferIR.Tenv.t</a> <span class="keyword">&#8209;&gt;</span> <a href="../../../InferIR/InferIR/Typ/Procname/index.html#type-t">InferIR.Typ.Procname.t</a> <span class="keyword">&#8209;&gt;</span> <a href="../../../InferIR/InferIR/HilExp/index.html#type-t">InferIR.HilExp.t</a> list <span class="keyword">&#8209;&gt;</span> <a href="../../InferModules/StarvationDomain/Event/index.html#type-severity_t">InferModules.StarvationDomain.Event.severity_t</a> option</code></div><div class="doc"><p>is the method call potentially blocking, given the actuals passed?</p></div></div><div class="spec val" id="val-is_synchronized_library_call"><a href="#val-is_synchronized_library_call" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>is_synchronized_library_call : <a href="../../../InferIR/InferIR/Tenv/index.html#type-t">InferIR.Tenv.t</a> <span class="keyword">&#8209;&gt;</span> <a href="../../../InferIR/InferIR/Typ/Procname/index.html#type-t">InferIR.Typ.Procname.t</a> <span class="keyword">&#8209;&gt;</span> bool</code></div><div class="doc"><p>does the method call lock-then-unlock the underlying object?
legacy Java containers like Vector do this, and can interact with explicit locking</p></div></div></body></html>