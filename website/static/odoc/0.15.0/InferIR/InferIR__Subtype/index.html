<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>InferIR__Subtype (InferIR.InferIR__Subtype)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="generator" content="doc-ock-html v1.0.0-1-g1fc9bf0"/></head><body><nav id="top"><a href="../index.html">Up</a> &mdash; <span class="package">package <a href="../index.html">InferIR</a></span></nav><header><h1><span class="keyword">Module</span> <span class="module-path">InferIR__Subtype</span></h1></header><p>The Smallfoot Intermediate Language: Subtypes</p><div class="spec module" id="module-F"><a href="#module-F" class="anchor"></a><div class="def module"><code><span class="keyword">module </span>F = Format</code></div><div class="doc"></div></div><div class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>t</code><code></code><code></code></div><div class="doc"></div></div><div class="spec include"><div class="doc"></div><details open="open"><summary><span class="def"><code><span class="keyword">include </span><span class="keyword">sig</span> ... <span class="keyword">end</span></code></span></summary><div class="spec val" id="val-compare"><a href="#val-compare" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>compare : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> int</code></div><div class="doc"></div></div></details></div><div class="spec val" id="val-pp"><a href="#val-pp" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>pp : <a href="index.html#module-F">F</a>.formatter <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"></div></div><div class="spec val" id="val-sub_type"><a href="#val-sub_type" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>sub_type : (<a href="../InferIR/Typ/Name/index.html#type-t">InferIR.Typ.Name.t</a> <span class="keyword">&#8209;&gt;</span> <a href="../InferIR/Typ/Name/index.html#type-t">InferIR.Typ.Name.t</a>) <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a></code></div><div class="doc"></div></div><div class="spec val" id="val-exact"><a href="#val-exact" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>exact : <a href="index.html#type-t">t</a></code></div><div class="doc"></div></div><div class="spec val" id="val-subtypes"><a href="#val-subtypes" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>subtypes : <a href="index.html#type-t">t</a></code></div><div class="doc"><p>denotes the current type only</p></div></div><div class="spec val" id="val-subtypes_cast"><a href="#val-subtypes_cast" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>subtypes_cast : <a href="index.html#type-t">t</a></code></div><div class="doc"><p>denotes the current type and any subtypes</p></div></div><div class="spec val" id="val-subtypes_instof"><a href="#val-subtypes_instof" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>subtypes_instof : <a href="index.html#type-t">t</a></code></div><div class="doc"></div></div><div class="spec val" id="val-join"><a href="#val-join" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>join : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a></code></div><div class="doc"></div></div><div class="spec val" id="val-case_analysis"><a href="#val-case_analysis" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>case_analysis : <a href="../InferIR/Tenv/index.html#type-t">InferIR.Tenv.t</a> <span class="keyword">&#8209;&gt;</span> (<a href="../InferIR/Typ/Name/index.html#type-t">InferIR.Typ.Name.t</a><span class="keyword"> * </span><a href="index.html#type-t">t</a>) <span class="keyword">&#8209;&gt;</span> (<a href="../InferIR/Typ/Name/index.html#type-t">InferIR.Typ.Name.t</a><span class="keyword"> * </span><a href="index.html#type-t">t</a>) <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a> option<span class="keyword"> * </span><a href="index.html#type-t">t</a> option</code></div><div class="doc"><p><code class="code">case_analysis tenv (c1, st1) (c2, st2)</code> performs case analysis on <code class="code">c1 &lt;: c2</code> according
to <code class="code">st1</code> and <code class="code">st2</code>.
<code class="code">case_analysis</code> returns a pair:
</p><ul><li>whether <code class="code">st1</code> and <code class="code">st2</code> admit <code class="code">c1 &lt;: c2</code>, and in case returns the updated subtype <code class="code">st1</code></li><li>whether <code class="code">st1</code> and <code class="code">st2</code> admit <code class="code">not(c1 &lt;: c2)</code>, and in case returns the updated subtype <code class="code">st1</code></li></ul></div></div><div class="spec val" id="val-is_known_subtype"><a href="#val-is_known_subtype" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>is_known_subtype : <a href="../InferIR/Tenv/index.html#type-t">InferIR.Tenv.t</a> <span class="keyword">&#8209;&gt;</span> <a href="../InferIR/Typ/Name/index.html#type-t">InferIR.Typ.Name.t</a> <span class="keyword">&#8209;&gt;</span> <a href="../InferIR/Typ/Name/index.html#type-t">InferIR.Typ.Name.t</a> <span class="keyword">&#8209;&gt;</span> bool</code></div><div class="doc"><p><code class="code">is_known_subtype tenv c1 c2</code> returns true if there is enough information in <code class="code">tenv</code> to prove
that <code class="code">c1</code> is a subtype of <code class="code">c2</code>.
Note that <code class="code">not (is_known_subtype tenv c1 c2) == true</code> does not imply
that <code class="code">is_known_not_subtype tenv c1 c2 == true</code></p></div></div><div class="spec val" id="val-is_cast"><a href="#val-is_cast" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>is_cast : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> bool</code></div><div class="doc"></div></div><div class="spec val" id="val-is_instof"><a href="#val-is_instof" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>is_instof : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> bool</code></div><div class="doc"></div></div><div class="spec val" id="val-equal_modulo_flag"><a href="#val-equal_modulo_flag" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>equal_modulo_flag : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> bool</code></div><div class="doc"><p>equality ignoring flags in the subtype</p></div></div></body></html>